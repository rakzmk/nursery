{% extends "admintemp/index.html" %}
{% load static %}               
    {% block content %}
    
    <div class="container login-container">
      <div class="row">
          <div class="col-md-6 login-form-1">
              <h3>Edit Product</h3>
              <form method="POST" enctype="multipart/form-data" action="{% url 'editproduct' prod.id %}">
                  <!-- <div class="form-group">
                      <input type="text" class="form-control" placeholder="Product ID" value="" />
                  </div> -->
                  <!-- <select class="custom-select">
                    <option selected>Open this select menu</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select> -->
                  
                                   
                  <div class="form-group">
                    {% csrf_token %}
                    <label for="exampleFormControlSelect1">Category</label>
                    
                    <select class="form-control" name="category" id="category">
                      {% for cat in category %}
                      {%if cat.category == prod.category.category %}
                      <option value="{{ prod.category.category}}" selected>{{cat.category}}</option>
                      {% else %}
                      <option>{{cat.category}} </option>
                      {% endif %}
                      {% endfor %}
                    </select>

                    
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlTextarea1">Product Name</label>
                      <input id="productname" type="text" class="form-control" name="productname" placeholder="Product Name" value="{{prod.product}}" required>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlTextarea1">Price</label>
                    <input id="price" type="text" class="form-control" name="price" placeholder="Product Price" value="{{prod.price}}" required>
                </div>
               
              <div class="form-group">
                <label for="exampleFormControlTextarea1">Description</label>
                <input id="description" type="text" class="form-control" name="description" rows="3" title="" value="{{prod.description}}">
              </div>
              <div class="custom-file">
                <img id="img1" src="{{prod.imageurl}}" style="width: 6em; height: 7em;" alt=""><br>
                
                <label class="" for="exampleFormControlFile1">Image1</label>
                <input type="file" class="form-control-file" id="image1" name="image1" required>
                
                <!-- <input type="file" class="custom-file-input" id="image1" value="">
                <label class="custom-file-label" for="customFile">Choose Image1</label> -->
              </div>
              <div class="custom-file">
                <img id="img2" src="{{prod.imageurl2}}" style="width: 6em; height: 7em;" alt=""><br>
                
                <label class="" for="exampleFormControlFile1">Image2</label>
                <input type="file" class="form-control-file" id="image2" name="image2" required>
                <!-- <input type="file" class="custom-file-input" id="image2" value=>
                <label class="custom-file-label" for="customFile">Choose Image2</label> -->
              </div>
          
              <div class="custom-file">
                <img id="img3" src="{{prod.imageurl3}}" style="width: 6em; height: 7em;" alt=""><br>
                
                <label class="" for="exampleFormControlFile1">Image3</label>
                <input type="file" class="form-control-file" id="image3" name="image3" required>
                <!-- <input type="file" class="custom-file-input" id="image3" value=>
                <label class="custom-file-label" for="customFile">Choose Image3</label> -->
              </div>
              <div>
                  <h2>{{Messages}}</h2>
              </div>
                  <div class="form-group mt-5 ml-5 float-right">
                    
                      <input type="submit" id="but1" class="btn btn-primary" value="Edit Product" />
                  </div>
                
              </form>
          </div>
          <div class="col-md-6 login-form-2">

            <div class="float-center pd-0">
                <img style="width: 100%;height: fit-content;margin: 0;" src="{% static 'admin/img/plant.jpg' %}" alt="">
               
              </div>

            <!-- <div class="card" style="width: 18rem;">
              <img class="card-img-top" src="..." alt="Card image cap">
              <div class="card-body">
                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
              </div>
            </div>
            
            <img src="..." alt="..." class="img-thumbnail"> -->
              <!-- <h3>Login for Form 2</h3>
              <form>
                  <div class="form-group">
                      <input type="text" class="form-control" placeholder="Your Email *" value="" />
                  </div>
                  <div class="form-group">
                      <input type="password" class="form-control" placeholder="Your Password *" value="" />
                  </div>
                  <div class="form-group">
                      <input type="submit" class="btnSubmit" value="Login" />
                  </div>
                  <div class="form-group">

                      <a href="#" class="ForgetPwd" value="Login">Forget Password?</a>
                  </div>
              </form>
          </div>
      </div> -->
  </div>

  <style>
    .login-container{
      margin-top: 5%;
      margin-bottom: 5%;
  }
  .login-form-1{
      padding: 5%;
      box-shadow: 0 5px 8px 0 rgba(0, 0, 0, 0.2), 0 9px 26px 0 rgba(0, 0, 0, 0.19);
  }
  .login-form-1 h3{
      text-align: center;
      color: #333;
  }
  .login-form-2{
      padding: 5%;
      background: #0062cc;
      box-shadow: 0 5px 8px 0 rgba(0, 0, 0, 0.2), 0 9px 26px 0 rgba(0, 0, 0, 0.19);
  }
  .login-form-2 h3{
      text-align: center;
      color: #fff;
  }
  .login-container form{
      padding: 10%;
  }
  .btnSubmit
  {
      width: 50%;
      border-radius: 1rem;
      padding: 1.5%;
      border: none;
      cursor: pointer;
  }
  .login-form-1 .btnSubmit{
      font-weight: 600;
      color: #fff;
      background-color: #0062cc;
  }
  .login-form-2 .btnSubmit{
      font-weight: 600;
      color: #0062cc;
      background-color: #fff;
  }
  .login-form-2 .ForgetPwd{
      color: #fff;
      font-weight: 600;
      text-decoration: none;
  }
  .login-form-1 .ForgetPwd{
      color: #0062cc;
      font-weight: 600;
      text-decoration: none;
  }
  
  </style>
  
  <!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script> -->


  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"></script> -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
  
  <script>
    function readURL1(input){
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $('#img1').attr('src', e.target.result);
            }
        reader.readAsDataURL(input.files[0]); //convert to base64 string
        } 
    }
        $('#image1').change(function(){
            readURL1(this);
        });
    
    </script>
    <script>
        function readURL2(input){
            if (input.files && input.files[0]) {
                var reader = new FileReader();
    
                reader.onload = function(e) {
                    $('#img2').attr('src', e.target.result);
                }
            reader.readAsDataURL(input.files[0]); //convert to base64 string
            } 
        }
            $('#image2').change(function(){
                readURL2(this);
            });

        </script>
        <script>
    function readURL3(input){
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
        
                    reader.onload = function(e) {
                        $('#img3').attr('src', e.target.result);
                    }
                reader.readAsDataURL(input.files[0]); //convert to base64 string
                } 
            }
                $('#image3').change(function(){
                    readURL3(this);
                });


  </script>
      <!-- <script>
      $('#but1').click(function () {
          console.log("hellooo")
          var category = $('#category').val()
          var productname = $('#productname').val()
          var price = $('#price').val()
          var description = $('#description').val()
          var image1 = $('#image1').val()
          var image2 = $('#image2').val()
          var image3 = $('#image3').val()
          
          console.log(category,productname,price,description)
          var data = {
              'csrfmiddlewaretoken': '{{csrf_token}}',
              'category': category,
              'productname': productname,
              'price': price,
              'description': description,
              'image1': image1,
              'image2': image2,
              'image3' : image3,
          }
          if (price == "") {
            $('#error1').html("Enter min 4 and max 10 characters")
          }

          else if (productname.length < 3 || productname.length > 10) {
              $('#error1').html("Enter min 4 and max 10 characters")
          }
          else if (description.length <10 || description.length >1000) {
            $('#error1').html("Enter min 10 and max 1000 characters")

        }
          
          //else if (image1 === ""){ 
           
             // $('#error1').html("Please upload image1")   
                
         // }
         // else if (image2 === ""){ 
                 
          //  $('#error1').html("Please upload image2")
        //}
      
         // else if (image2 === ""){ 
             
        //$('#error1').html("Please upload image2")
       //  }
          
          else {
              $.ajax({
                  url: '/admin1/addproduct/',
                  method: 'POST',
                  data: data,
                  datatype: 'json',
                  success: function (data) {
                      if (data == 'true') {
                          alert("Successfully created account"),
                          window.location.replace('/')
                          //alert("registered")
                      }
                      else if (data == 'false') {

                          $('#error1').html("Username already taken")
                         
                          //alert("Username already taken")
                              //window.location.replace('/register/')

                      }
                      else if (data == 'false1') {
                          
                          $('#error1').html("Email already taken")
                          //alert("email already taken")
                          //window.location.replace('/register/')

                      }
                  }
              })
          }
      })
  </script> -->
            {% endblock %}